# =============================================================================
# SonarCloud Configuration - formazione_coemi (DEFINITIVO)
# =============================================================================

sonar.organization=gianky00
sonar.projectKey=gianky00_formazione_coemi
sonar.projectName=formazione_coemi
sonar.python.version=3.12

# =============================================================================
# ANALISI SORGENTI (Inclusione Intelligente)
# =============================================================================
# Analizza tutto (Backend Python + Frontend React + Script Admin)
sonar.sources=.
sonar.sourceEncoding=UTF-8

# Esclusioni RIGIDE (File da non toccare mai)
sonar.exclusions=\
    **/build/**,\
    **/dist/**,\
    **/venv/**,\
    **/node_modules/**,\
    **/__pycache__/**,\
    **/*.pyc,\
    **/*.spec,\
    docs/**,\
    *.md,\
    LICENSE,\
    .gitignore,\
    .editorconfig,\
    requirements.txt

# =============================================================================
# CONFIGURAZIONE TEST E REPORT
# =============================================================================
sonar.tests=tests/
sonar.test.inclusions=tests/**,**/test_*.py

# Percorsi dei report generati dalla CI (coerenti con main_ci.yml)
sonar.python.coverage.reportPaths=coverage.xml
sonar.python.xunit.reportPath=junit.xml

# =============================================================================
# REGOLE DI QUALITA' PERSONALIZZATE
# =============================================================================

# 1. Ignora la Duplicazione del Codice (CPD) SOLO nei test
# (I test hanno spesso codice ripetuto, ma vogliamo controllare duplicati in app/ e desktop_app/)
sonar.cpd.exclusions=tests/**,**/*_test.py

# 2. Ignora regole di sicurezza specifiche per gli script di Admin
# Regola python:S4723 (Permessi esecuzione comandi OS): Disabilitata per gli script di build/offuscamento
sonar.issue.ignore.multicriteria=e1
sonar.issue.ignore.multicriteria.e1.ruleKey=python:S4723
sonar.issue.ignore.multicriteria.e1.resourceKey=admin/offusca/**/*.py